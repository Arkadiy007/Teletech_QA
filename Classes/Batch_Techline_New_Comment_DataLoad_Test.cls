/**********************************************************************
Name: Batch_Techline_New_Comment_DataLoad_Test
Copyright Â© notice: Nissan Motor Company.
======================================================
Purpose:
This is a test for Batch_Techline_New_Comment_DataLoad
 
======================================================
History: 

VERSION AUTHOR DATE DETAIL
1.0 - Will Taylor 1-31-2014
***********************************************************************/   
   
@isTest
private class Batch_Techline_New_Comment_DataLoad_Test {
   
    static testMethod void Batch_Techline_New_Comment_DataLoad_Test() {
        RecordType rt = [select id from RecordType where SObjectType = 'Case' and Name = 'TECH LINE Cases'];
        
        
        List<OneTimeTechlineCommentsLoad__c> comments = new List<OneTimeTechlineCommentsLoad__c>();
        List<Case> cases = new List<Case>();
                
        
        Case case1 = new Case(VIN__c = 'VIN01000010000100',
                           Issue_Type__c = 'MINI',
                           RecordTypeId = rt.Id,
                           //Call_Recording_Id__c = 'ZYXABC',
                           Case_External_Id__c = 'F1999999'
                           );
        cases.add(case1); 

        OneTimeTechlineCommentsLoad__c c1 = new OneTimeTechlineCommentsLoad__c(Case_ID__c = 'F1999999',
                                                     Comment_Body__c ='** CUSTOMER COMMENT:-ENGINE DID NOT SHUT OFF.-** DEALER ACTION/OBSERVATION:-SWAPPED BCM TO ANOTHER VEHICLE, NO HIGH BEAMS, PUSH BUTTON HAS TO BEPUSHED 2 TIMES TO START VEHICLE.(VERIFYING BCM CONCERN).-CURRENTLY VEHICLE SHUTS OFF WITH PUSH BUTTON BUT THERE IS A DELAY.>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>NEXT PAGE<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<-CODES HAVE BEEN CLEARED AND HAVE NOT YET RETURNED.-BCM B2557 VEHICLE SPEED  ( IK7 ) U1000 CAN COMM CIRCUIT ( 10 )-METER U1000 CAN COMM CIRCUIT ( 10 )-ICC U1000 CAN COMM CIRCUIT ( 10 )-TRANS U1000 CAN COMM CIRCUIT ( 10 )-P1815 MANUAL MODE SW/CIRC (  H8  )** VERIFIED Y REPAIR ATTEMPTS 1_ DAYS DOWN 2-IPDM B210A STEERING LCK STATE SW/CONTITION  (  ST2  )-B2110 PNP/CL INTERLOCK SW   (  CL1  )-U1000 CAN COMM CIRCUIT ( 10 )-TPMS C1729 VEHICLE SPEED SIGNAL ERROR ( CE9 ) U1000 CAN COMM CIRCUIT (-PRECRASH SEAT BELTS U1000 CAN COMM CIRCUIT ( 10 )-ADP U1000 CAN COMM CIRCUIT ( 10 )-ADAPTIVE LIGHT SYSTEM U1000 CAN COMM CIRCUIT ( 10 )-4WAS U1000 CAN COMM CIRCUIT ( 10 ) U1002 CAN COMM CIR ( 1K2 )-HAS INFINITI SIDE SILLS AND FRONT AIR DAM.-VEHICLE IS 50 STATE EMISSIONS CERTIFIED.-VEHICLE WOULD NOT TURN OFF WITH PUSH BUTTON.-HAD TO PRESS START BUTTON 3 TIMES TO SHUT ENGINE OFF.-CURRENTLY, WHEN ENGINE IS RUNNING, THERE IS A 1-2 SECOND DELAY FROMTIME OF START BUTTON PRESSED, AND ENGINE SHUTTING OFF.-1ST REPAIR- NO KEY ICON SHOWS UP ON DASH, REPLACED BCM.-2ND REPAIR- PRESS START BUTTON TWICE TO START, HIGH BEAMS ARE INOP.-REPLACED BCM FOR 2ND TIME TO RESOLVE.(MANUAL CONFIGURED ONLY)** TSS RECOMMENDATION/RESULT:-(SEE IF DELAY HAPPENS AFTER BCM CONFIGURATION)**UPDATE 05/22/13 TSS 157 JS-TECH REQUESTING TO SPEAK WITH TCC JB-TRANSFERED TO TSS JB**UPDATE 05.22.13  TSS 135JB-HAVING INTERNET CONNECTION ISSUES, CANNOT PERFORM TECH LINK.>>>>>>>>>>>>>>>>>>>>>>>>>>>>NEXT PAGE<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<-RECONFIGURED BCM AND NOW HAVE TO PRESS START BUTTON 2 TIMES TO STARTVEHICLE (SAME CONCERN AS 2ND BCM).-LOCATE THE OTHER REPLACED BCM, AND RECONFIGURE NEW BCM TO THAT ONE.-CHECK IGNITION SWITCH SIGNAL IN BCM AS START BUTTON IS PRESSED.-TECH NOTICED THAT WHEN VEHICLE IS COLD, WILL SHUT OFF AS SOON AS THESTART BUTTON IS PRESSED.-WHEN VEHICLE WARMED UP, THEN STARTED TO DELAY WHEN SHUTTING OFF.**UPDATE 05.23.13  TSS 135JB-RECONFIGURED BCM, STILL HAS DELAY WHEN SHUTTING OFF.-NEW SYMPTOM, WHEN PUSH BUTTON START IS PRESSED, THE ACC AND ONINDICATORS START FLASHING AND VEHICLE DOES NOT WANT TO START.-SET UP VEHICLE FOR TECH LINK.-DEALER IS HAVING INTERNET CONNECTION ISSUES, CALL BACK WHEN INTERNETIS FUNCTIONING PROPERLY.-MONITOR IPDM SIGNALS FOR OFF REQUEST.**UPDATE 05.23.13  TSS 135JB-PERFORMED TECH LINK.>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>NEXT PAGE<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<-THIS MORNING THE VEHICLE WOULD NOT CRANK/START.-CURRENTLY, THERE IS A ONE SECOND DELAY BETWEEN PUSHING THE IGNITIONSWITCH OFF, AND THE RPMS DROPPING.-RECORDED DATA.-WILL REVIEW WITH TSS 2, AND ROOM STAFF.-CHECK SUPER MULTIPLE JUNCTIONS FOR WATER INTRUSION/CORROSION.-INSPECT ENGINE ROOM HARNESSES FOR RODENT CONSUMATION.-INSTALL ORIGINAL BCM AND PULL CONFIGURATION DATA.-WILL FOLLOW UP AFTER REVIEW OF DATA.-CREATED FOLDER AND INSERTED INTO NHTSA.**************************REPORT IS OWNED BY TSS 135JB********************UPDATE 05.28.13  TSS 135JB-SPOKE WITH FQI B.L.-KNOWN GOOD M56 HAS A 1 SECOND DELAY WHEN SHUTTING OFF WITH PUSH BUTTON.-SHIFTER ASSY (DETENT SWITCH) CAN CAUSE VEHICLE NOT TO TURN OFF.-WILL VERIFY WITH 2012 M56 AND COMPARE DATA FROM INCIDENT VEHICLE.>>>>>>>>>>>>>>>>>>>>>>>>>>>NEXT PAGE<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<-CONTACTED DEALER.-CONFIGURE NEW BCM IN AUTO AND MANUAL CONFIGURATION.-WILL REPLACE SHIFTER ASSY.-THEN ADJUST SHIFTER CABLE.-WILL ATTEMPT TO DUPLICATE CONCERN AFTER REPAIR.-WILL FOLLOW UP AFTER TSS INSPECTS KGV***************************OWNED BY TSS 135JB***************************** UPDATE 06-04-13 TSS 237- CALLED TECH FOR UPDATE- PARTS ETA 6-5-13- REQUESTED FOLLOW UP WITH TECH LINE.** UPDATE 06-17-13 TSS 237-RECOMMENDING TO PERFORM TECH LINK TO MONITOR SIGNALS DURING INCIDENT.- CALLED TECHNICIAN BACK FOR FOLLOW UP- SHIFTER HAS BEEN REPLACED, VEHICLE IS OPERATING NORMALLY AT THIS TIME- CUSTOMER REFUSED TO PICK UP VEHICLE.- HEADS UP SENT TO REGION FOR CUSTOMER CONCERN.>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>NEXT PAGE<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<**UPDATE 06.19.13  TSS 135JB-REPLACED SHIFTER ASSY.-VEHICLE IS CURRENTLY AT DEALER AND HAS NOT DUPLICATED SINCE REPAIR.-HEADS UP SENT DUE TO NUMBER OF REPAIR ATTEMPTS.-DEALER TO FOLLOW UP FOR TECH LINK IN AM.-(DURING TECH LINK, UNPLUG ABS ACTUATOR TO SEE IF IT AFFECTS INCIDENT)test comment ',
                                                     ZCA_ID__c = '123/XXXX'
                                                     );                        
        
        OneTimeTechlineCommentsLoad__c c2 = new OneTimeTechlineCommentsLoad__c(Case_ID__c = 'F1999999',
                                                     Comment_Body__c ='smaller comment',
                                                     ZCA_ID__c = '123/XXXX'
                                                     );                 
        comments.add(c1); 
        comments.add(c2);        
        insert comments; 
        insert cases;
        
        Test.startTest();
    
            Batch_Techline_New_Comments_DataLoad batch = new Batch_Techline_New_Comments_DataLoad();
            Database.executeBatch(batch);
    
        Test.stopTest();
    }   
    
    
    
}